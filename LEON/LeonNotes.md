# LEON System Overview

In our latest implementation, we've made several enhancements to the LEON framework, aimed at refining its integration with traditional query optimizers and improving its adaptability and efficiency. Here's an overview of the key improvements:

1. **Adaptive Affection Space Management**: 

    To mitigate potential performance regressions for unseen queries, we've introduced the concept of "LEON affection space." This space consists of equivalent sets that LEON targets for influence. Our findings indicate that impacting a small subset of the plan space can lead to substantial optimizations. This strategic limitation and targeted approach allow for significant performance improvements with minimal intervention. By adaptively managing this affection space based on accumulated historical knowledge, we can enhance performance for new queries. This strategy reduces the risks associated with operating in unfamiliar plan spaces and allows for the inclusion of valuable plan spaces that improve performance with new queries. 

2. **Efficient Top-Down Exploration Strategy**: 

    We use a strategic, top-down approach to exploring the plan space, prioritizing significant plans that appear in the final plan but are challenging to estimate cost-effectively. This focused exploration proves to be efficient, striking a balance between minimizing exploration overhead and maintaining the ability to generate optimal plans. This methodology is adaptable to any cost-based optimizer.

3. **Emphasis on Plan Features Over Query-Specific Features**: 

    To better support unseen queries, we enhance LEON's generalization capabilities by emphasizing the shared knowledge of plan features across different queries. This shift away from query-specific features aims to improve LEON's overall performance in aiding the query optimizer.

4. **Seamless Integration with PostgreSQL**: 

    We've successfully integrated LEON into PostgreSQL without disrupting normal database operations, enabling a significant expansion in the plan space during query optimization. This integration facilitates communication between Python and PostgreSQL, allowing for the retrieval of plans from PostgreSQL and the submission of cost calibrations generated by LEON in return.
